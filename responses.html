<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Factions CMP - Responses</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
		integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<style>
		#protectedContent {
			display: none;
		}
	</style>
</head>

<body class="bg-dark text-white">
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-warning sticky-top">
		<div class="container">
			<a class="navbar-brand" href="index.html">
				<img src="images/logo.png" width="93" height="34" alt="Factions CMP logo">
			</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item">
						<a class="nav-link text-dark" href="index.html">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-dark" href="info.html">Info</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-dark" href="apply.html">Apply</a>
					</li>
					<li class="nav-item">
						<a class="nav-link text-white bg-danger px-3 rounded" href="responses.html">Responses</a>
					</li>
				</ul>
			</div>
		</div>
		<ul class="nav justify-content-end">
			<li class="nav-item">
				<button onclick="logout()" class="btn bg-danger text-light">Logout</button>
			</li>
		</ul>
	</nav>
	<!-- Protected Page Content -->
	<div id="protectedContent" class="container mt-5">
		<div class="main text-center container">
			<iframe
				src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQJITWaQAds8qPKuu_Upyy66xqDbjD5hbTnWMMrusFOs5l3B-_XG0QLjy8tHp7GBixiy_c0AQcaEtQH/pubhtml?gid=1350677266&amp;single=true&amp;widget=true&amp;headers=false"
				width="100%" height="800" frameborder="0" marginheight="0" marginwidth="0"></iframe>
		</div>
	</div>

	<!-- Login Modal -->
	<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content bg-dark">
				<form id="loginForm" class="modal-body">
					<h5 class="modal-title mb-3">Login Required</h5>
					<div class="form-group">
						<label for="username">Username</label>
						<input type="text" id="username" class="form-control" required>
					</div>
					<div class="form-group">
						<label for="password">Password</label>
						<input type="password" id="password" class="form-control" required>
					</div>
					<div id="loginMsg" class="text-danger mb-2"></div>
					<button type="submit" class="btn bg-warning">Login</button>
				</form>
			</div>
		</div>
	</div>

	<!-- Scripts -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		const correctUsername = "admin@factionCMP";
		const correctPassword = "d0C_N@wang_(onn0rZ";

		const content = document.getElementById("protectedContent");

		// Show login modal if not logged in
		if (localStorage.getItem("isLoggedIn") !== "true") {
			$('#loginModal').modal({
				backdrop: 'static',
				keyboard: false
			});
			$('#loginModal').modal('show');
		} else {
			content.style.display = "block";
		}

		document.getElementById("loginForm").addEventListener("submit", function (e) {
			e.preventDefault();
			const username = document.getElementById("username").value;
			const password = document.getElementById("password").value;

			if (username === correctUsername && password === correctPassword) {
				localStorage.setItem("isLoggedIn", "true");
				$('#loginModal').modal('hide');
				content.style.display = "block";
			} else {
				document.getElementById("loginMsg").textContent = "Invalid credentials.";
			}
		});

		function logout() {
			localStorage.removeItem("isLoggedIn");
			location.reload();
		}
	</script>
</body>
<footer>
	<div class="text-center border-top pt-3">
		<h5>Contact Us</h5>
		<p>Email: contact@factionserver.com<br>Discord tag: @ContactFactionsCMP</p>
	</div>
</footer>

</html>